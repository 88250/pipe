!function c(i,o,s){function a(t,e){if(!o[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(f)return f(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var u=o[t]={exports:{}};i[t][0].call(u.exports,function(e){return a(i[t][1][e]||e)},u,u.exports,c,i,o,s)}return o[t].exports}for(var f="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,r){"use strict";function s(e,t,r,n,u,c,i){try{var o=e[c](i),s=o.value}catch(e){return void r(e)}o.done?t(s):Promise.resolve(s).then(n,u)}var n="1616842446826",u="http://localhost:5897";self.addEventListener("activate",function(e){e.waitUntil(caches.keys().then(function(e){return Promise.all(e.map(function(){var t=function(o){return function(){var e=this,i=arguments;return new Promise(function(t,r){var n=o.apply(e,i);function u(e){s(n,t,r,u,c,"next",e)}function c(e){s(n,t,r,u,c,"throw",e)}u(void 0)})}}(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.storage.estimate();case 2:if(r=e.sent,"pipe-html"!==t&&t!=="pipe-static-"+n)return e.abrupt("return",caches.delete(t));e.next=7;break;case 7:if(.8<r.usage/r.quota&&"pipe-html"===t)return console.log("clear ".concat(t," cache")),e.abrupt("return",caches.delete(t));e.next=10;break;case 10:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()))}))}),self.addEventListener("fetch",function(r){0===r.request.headers.get("accept").indexOf("text/html")||"*/*"===r.request.headers.get("accept")&&-1===r.request.url.indexOf("/js/")&&!r.request.url.endsWith(".js")||0===r.request.headers.get("accept").indexOf("application/json")&&0===r.request.url.indexOf(u+"/api")?r.respondWith(fetch(r.request).then(function(t){return-1===r.request.url.indexOf(u)?t:caches.open("pipe-html").then(function(e){return"POST"!==r.request.method&&"DELETE"!==r.request.method&&"PUT"!==r.request.method&&e.put(r.request,t.clone()),t})}).catch(function(){return caches.match(r.request)})):r.respondWith(caches.match(r.request).then(function(e){return e||fetch(r.request).then(function(t){return-1<r.request.url.indexOf("http://localhost:5897")?caches.open("pipe-static-"+n).then(function(e){return e.put(r.request,t.clone()),t}):t}).catch(function(){console.log("fetch ".concat(r.request.url," error"))})}))})},{}]},{},[1]);