webpackJsonp([2],{LwPV:function(t,e,s){"use strict";var n=s("yrO2"),i=s("YFTs"),a=s("VU/8"),r=a(n.a,i.a,!1,null,null,null);e.a=r.exports},U0IP:function(t,e,s){"use strict";var n=s("Xxa5"),i=s.n(n),a=s("exGp"),r=s.n(a),o=s("LwPV");e.a={components:{Navigation:o.a},data:function(){return{editId:"",showForm:!1,currentPageNum:1,pageCount:1,windowSize:1,list:[]}},head:function(){return{title:this.$t("navigationList",this.$store.state.locale)+" - "+this.$store.state.blogTitle}},methods:{getOpenMethodName:function(t){var e=this.$t("openMethod1",this.$store.state.locale);switch(t){case"_blank":e=this.$t("openMethod2",this.$store.state.locale);break;case"_parent":e=this.$t("openMethod3",this.$store.state.locale);break;case"_top":e=this.$t("openMethod4",this.$store.state.locale)}return e},getList:function(){function t(){return e.apply(this,arguments)}var e=r()(i.a.mark(function t(){var e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.get("/console/navigations?p="+s);case 2:e=t.sent,e&&(this.$set(this,"list",e.navigations),this.$set(this,"currentPageNum",e.pagination.currentPageNum),this.$set(this,"pageCount",e.pagination.pageCount),this.$set(this,"windowSize",document.documentElement.clientWidth<721?5:e.pagination.windowSize));case 4:case"end":return t.stop()}},t,this)}));return t}(),remove:function(){function t(t){return e.apply(this,arguments)}var e=r()(i.a.mark(function t(e){var s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.delete("/console/navigations/"+e);case 2:s=t.sent,null===s&&(this.$store.commit("setSnackBar",{snackBar:!0,snackMsg:this.$t("deleteSuccess",this.$store.state.locale),snackModify:"success"}),this.getList(),this.$set(this,"showForm",!1));case 4:case"end":return t.stop()}},t,this)}));return t}(),addSuccess:function(){this.getList(),this.$set(this,"showForm",!1)},edit:function(t){this.$set(this,"showForm",!0),this.$set(this,"editId",t)}},mounted:function(){this.getList()}}},YFTs:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card__body fn-clear"},[s("v-form",{ref:"form"},[s("v-text-field",{attrs:{label:t.$t("title",t.$store.state.locale),counter:128,rules:t.titleRules,required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),s("v-text-field",{attrs:{label:t.$t("links",t.$store.state.locale),rules:t.linkRules,counter:255,required:""},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),s("v-text-field",{attrs:{label:t.$t("iconPath",t.$store.state.locale),rules:t.iconURLRules,counter:255},model:{value:t.iconURL,callback:function(e){t.iconURL=e},expression:"iconURL"}}),s("v-select",{attrs:{label:t.$t("openMethod",t.$store.state.locale),items:t.openMethods,"append-icon":""},model:{value:t.openMethod,callback:function(e){t.openMethod=e},expression:"openMethod"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"alert alert--danger"},[s("v-icon",[t._v("danger")]),s("span",[t._v(t._s(t.errorMsg))])],1)],1),s("v-btn",{staticClass:"fn-right btn--margin-t30 btn--info btn--space",on:{click:t.created}},[t._v("\n    "+t._s(t.$t("confirm",t.$store.state.locale))+"\n  ")]),s("v-btn",{staticClass:"fn-right btn--margin-t30 btn--danger btn--space",on:{click:function(e){t.$emit("update:show",!1)}}},[t._v("\n    "+t._s(t.$t("cancel",t.$store.state.locale))+"\n  ")])],1)},i=[],a={render:n,staticRenderFns:i};e.a=a},eZZR:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("U0IP"),i=s("qLuD"),a=s("VU/8"),r=a(n.a,i.a,!1,null,null,null);e.default=r.exports},qLuD:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"card fn-clear"},[t.showForm?s("navigation",{attrs:{show:t.showForm,id:t.editId},on:{"update:show":function(e){t.showForm=e},addSuccess:t.addSuccess}}):t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showForm,expression:"!showForm"}],staticClass:"card__body fn-clear"},[s("v-btn",{staticClass:"btn--success",class:{"fn-right":t.list.length>0},on:{click:function(e){t.edit(0)}}},[t._v(t._s(t.$t("new",t.$store.state.locale)))])],1),t.list.length>0?s("ul",{staticClass:"list"},t._l(t.list,function(e){return s("li",{key:e.id,staticClass:"fn-flex"},[s("a",{staticClass:"avatar avatar--mid avatar--space",style:"background-image: url("+e.iconURL+")",attrs:{href:""+e.url}}),s("div",{staticClass:"fn-flex-1"},[s("div",{staticClass:"fn-flex"},[s("a",{staticClass:"list__title fn-flex-1",attrs:{target:"_blank",href:""+e.url}},[t._v("\n              "+t._s(e.title)+"\n            ")]),t.$store.state.role<3?s("v-menu",{attrs:{"nudge-bottom":28,"nudge-width":60,"nudge-left":60,"open-on-hover":!0}},[s("v-toolbar-title",{attrs:{slot:"activator"},slot:"activator"},[s("v-btn",{staticClass:"btn--small btn--info",on:{click:function(s){t.edit(e.id)}}},[t._v("\n                  "+t._s(t.$t("edit",t.$store.state.locale))+"\n                  "),s("v-icon",[t._v("arrow_drop_down")])],1)],1),s("v-list",[s("v-list-tile",{staticClass:"list__tile--link",on:{click:function(s){t.edit(e.id)}}},[t._v("\n                  "+t._s(t.$t("edit",t.$store.state.locale))+"\n                ")]),s("v-list-tile",{staticClass:"list__tile--link",on:{click:function(s){t.remove(e.id)}}},[t._v("\n                  "+t._s(t.$t("delete",t.$store.state.locale))+"\n                ")])],1)],1):t._e()],1),s("div",{staticClass:"list__meta"},[t._v("\n            "+t._s(t.getOpenMethodName(e.openMethod))+"\n          ")])])])})):t._e(),t.pageCount>1?s("div",{staticClass:"pagination--wrapper fn-clear"},[s("v-pagination",{staticClass:"fn-right",attrs:{length:t.pageCount,"total-visible":t.windowSize,circle:"","next-icon":"angle-right","prev-icon":"angle-left"},on:{input:t.getList},model:{value:t.currentPageNum,callback:function(e){t.currentPageNum=e},expression:"currentPageNum"}})],1):t._e()],1)])},i=[],a={render:n,staticRenderFns:i};e.a=a},yrO2:function(t,e,s){"use strict";var n=s("Xxa5"),i=s.n(n),a=s("exGp"),r=s.n(a),o=s("zZ5Z");e.a={props:{id:{type:Number,required:!0}},data:function(){var t=this;return{errorMsg:"",error:!1,title:"",url:"",iconURL:"",openMethod:"",openMethods:[{text:this.$t("openMethod1",this.$store.state.locale),value:""},{text:this.$t("openMethod2",this.$store.state.locale),value:"_blank"},{text:this.$t("openMethod3",this.$store.state.locale),value:"_parent"},{text:this.$t("openMethod4",this.$store.state.locale),value:"_top"}],titleRules:[function(e){return o.c.call(t,e)},function(e){return o.a.call(t,e,128)}],linkRules:[function(e){return o.c.call(t,e)},function(e){return o.a.call(t,e,255)}],iconURLRules:[function(e){return o.a.call(t,e,255)}]}},watch:{id:function(){this.init()}},methods:{created:function(){function t(){return e.apply(this,arguments)}var e=r()(i.a.mark(function t(){var e,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.form.validate()){t.next=2;break}return t.abrupt("return");case 2:if(e={},s={title:this.title,url:this.url,iconURL:this.iconURL,openMethod:this.openMethod},0!==this.id){t.next=10;break}return t.next=7,this.axios.post("/console/navigations",s);case 7:e=t.sent,t.next=13;break;case 10:return t.next=12,this.axios.put("/console/navigations/"+this.id,s);case 12:e=t.sent;case 13:0===e.code?(this.$set(this,"error",!1),this.$set(this,"errorMsg",""),this.$emit("addSuccess")):(this.$set(this,"error",!0),this.$set(this,"errorMsg",e.msg));case 14:case"end":return t.stop()}},t,this)}));return t}(),init:function(){function t(){return e.apply(this,arguments)}var e=r()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.id){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.axios.get("/console/navigations/"+this.id);case 4:e=t.sent,e&&(this.$set(this,"title",e.title),this.$set(this,"url",e.url),this.$set(this,"iconURL",e.iconURL),this.$set(this,"openMethod",e.openMethod));case 6:case"end":return t.stop()}},t,this)}));return t}()},mounted:function(){this.init()}}},zZ5Z:function(t,e,s){"use strict";function n(t){return!!t||this.$t("required",this.$store.state.locale)}function i(t,e){return t.length<=e||this.$t("validateRule",this.$store.state.locale).replace("{{size}}",e)}function a(t){return/^\d+$/.test(t)||this.$t("validateRule3",this.$store.state.locale)}e.c=n,e.a=i,e.b=a}});
//# sourceMappingURL=index.a003ad88681ed2c845a7.js.map